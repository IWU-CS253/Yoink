{% extends "layout.html" %}
{% block body %}
  <!--The post item page-->
  <div class="card">
    <h2 style="margin-top:0;">Post an Item</h2>
    <form method="post" enctype="multipart/form-data">
      <label for="title">Title * (max 100 characters)</label>
      <input type="text" id="title" name="title" value="{{ (form.title if form else '') }}" maxlength="100" required>

      <label for="description">Description * (max 350 characters)</label>
      <textarea id="description" name="description" maxlength="350" required>{{ (form.description if form else '') }}</textarea>

      <!--Category-->
      <div class="row">
        <div>
          <label for="category">Category</label>
          <select id="category" name="category">
            <option value="">— Select —</option>
            {% for c in ["Stationary","Electronics","Art","Dorm Supplies","Cleaning materials","Other"] %}
              <option value="{{ c }}" {% if form and form.category == c %}selected{% endif %}>{{ c }}</option>
            {% endfor %}
          </select>
        </div>
        <!--Condition-->
        <div>
          <label for="condition">Condition</label>
          <select id="condition" name="condition">
            <option value="">— Select —</option>
            {% for c in ["New","Like New","Good","Used"] %}
              <option value="{{ c }}" {% if form and form.condition == c %}selected{% endif %}>{{ c }}</option>
            {% endfor %}
          </select>
        </div>
      </div>

      <label for="location">Pickup location (optional, max 50 characters)</label>
      <input type="text" id="location" name="location" value="{{ (form.location if form else '') }}" maxlength="50">

      <label for="contact">Contact (email/phone/IG) * (max 50 characters)</label>
      <input type="text" id="contact" name="contact" value="{{ (form.contact if form else '') }}" maxlength="50" required>

      <label for="image">Image (png/jpg/gif/webp, &le; 5MB)</label>
      <input type="file" id="image" name="image" accept=".png,.jpg,.jpeg,.gif,.webp, .heic">

      <!--Submit Button-->
      <div style="margin-top:1rem;">
        <button class="btn primary" type="submit">Post</button>
        <a class="btn" href="{{ url_for('items.list_items') }}">Cancel</a>
      </div>
    </form>
  </div>
{% endblock %}
